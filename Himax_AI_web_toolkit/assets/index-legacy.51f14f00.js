System.register(["./arco-legacy.e274f5da.js","./index-legacy.3b160781.js","./index-legacy.bf732e88.js","./index-legacy.cb4e38d4.js","./index-legacy.8f5c53d6.js","./index-legacy.791c9745.js","./base64-legacy.134b5d1f.js","./Flasher-legacy.5c9d5aef.js","./vue-legacy.77c02482.js"],(function(e,t){"use strict";var a,o,i,r,s,l,n,d,f,c,h,p,g,v,w,A,u,m,b,y,k,x,S,M,T,P,F,_,I,B,C,D,Y,E,N,z,G,R,W,j,U,$,Q,O,V,Z,J,L,H=document.createElement("style");return H.textContent='.item-card[data-v-239e3bc4]{width:100%}.item-card .slider[data-v-239e3bc4]{width:100%;padding:10px 0 10px 10px}.item-card .slider .slider-top[data-v-239e3bc4]{display:flex;align-items:center}.item-card .slider .slider-top .slider-tooltip[data-v-239e3bc4]{margin-left:5px;cursor:pointer}.monitor[data-v-b54b8e19]{display:flex;flex-direction:column;justify-content:center;width:100%;min-width:320px;max-width:960px;min-height:285px;max-height:720px;margin:0 auto;border-radius:5px}.monitor .preview[data-v-b54b8e19]{min-width:240px;max-width:1280px;min-height:240px;max-height:960px;margin:auto;border-radius:5px}.monitor .text[data-v-b54b8e19]{bottom:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%;color:rgb(var(--success-6));font-size:16px}.code-box-demo .ant-slider[data-v-b54b8e19]{margin-bottom:16px}@font-face{font-family:swiper-icons;src:url(data:application/font-woff;charset=utf-8;base64,\\ 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);font-weight:400;font-style:normal}:root{--swiper-theme-color: #007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{margin-left:auto;margin-right:auto;position:relative;overflow:hidden;overflow:clip;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function, initial);box-sizing:content-box}.swiper-android .swiper-slide,.swiper-ios .swiper-slide,.swiper-wrapper{transform:translateZ(0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}.swiper-slide{flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}.swiper-slide-invisible-blank{visibility:hidden}.swiper-autoheight,.swiper-autoheight .swiper-slide{height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden .swiper-slide{transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-slide,.swiper-3d .swiper-cube-shadow{transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode>.swiper-wrapper>.swiper-slide{scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode>.swiper-wrapper>.swiper-slide{scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper:before{content:"";flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered>.swiper-wrapper>.swiper-slide{scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper>.swiper-slide:first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper:before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper>.swiper-slide:first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper:before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top,.swiper-3d .swiper-slide-shadow-bottom,.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top,.swiper-3d .swiper-slide-shadow-bottom{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}.swiper-3d .swiper-slide-shadow{background:rgba(0,0,0,.15)}.swiper-3d .swiper-slide-shadow-left{background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-right{background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-top{background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-bottom{background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color, var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}.swiper:not(.swiper-watch-progress) .swiper-lazy-preloader,.swiper-watch-progress .swiper-slide-visible .swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear}.swiper-lazy-preloader-white{--swiper-preloader-color: #fff}.swiper-lazy-preloader-black{--swiper-preloader-color: #000}@keyframes swiper-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}:root{--swiper-navigation-size: 44px}.swiper-button-prev,.swiper-button-next{position:absolute;top:var(--swiper-navigation-top-offset, 50%);width:calc(var(--swiper-navigation-size) / 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size) / 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color, var(--swiper-theme-color))}.swiper-button-prev.swiper-button-disabled,.swiper-button-next.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-prev.swiper-button-hidden,.swiper-button-next.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-prev,.swiper-navigation-disabled .swiper-button-next{display:none!important}.swiper-button-prev svg,.swiper-button-next svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-prev svg,.swiper-rtl .swiper-button-next svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset, 10px);right:auto}.swiper-button-lock{display:none}.swiper-button-prev:after,.swiper-button-next:after{font-family:swiper-icons;font-size:var(--swiper-navigation-size);text-transform:none!important;letter-spacing:0;font-variant:initial;line-height:1}.swiper-button-prev:after,.swiper-rtl .swiper-button-next:after{content:"prev"}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset, 10px);left:auto}.swiper-button-next:after,.swiper-rtl .swiper-button-prev:after{content:"next"}.item-card[data-v-0d8f5f0e]{width:100%;height:100%}.item-card .device-item[data-v-0d8f5f0e]{padding-left:10px}.item-card .device-item-title[data-v-0d8f5f0e]{width:120px}.item-card .device-item-value[data-v-0d8f5f0e]{color:rgb(var(--success-6))}.item-card .unset-finish-wifi-mqtt[data-v-0d8f5f0e]{color:rgb(var(--danger-6))}.models-item-title[data-v-0d8f5f0e]{display:flex;align-items:center;justify-content:space-between;margin-top:30px}.item-card-bottom[data-v-0d8f5f0e]{flex:1;border-top-left-radius:0;border-top-right-radius:0}.slidePrevClass[data-v-0d8f5f0e]{width:10px}.img-container[data-v-0d8f5f0e]{display:flex;flex-flow:row wrap;gap:32px 12px;max-height:60vh;margin:40px 0;overflow-y:auto}.carousel-item-wrapper[data-v-0d8f5f0e]{flex-shrink:0;width:240px;border:2px solid var(--color-neutral-3);border-radius:var(--border-radius-small);cursor:pointer}.carousel-container[data-v-0d8f5f0e]{display:flex;flex-direction:column;align-items:center;overflow:hidden}.carousel-item[data-v-0d8f5f0e]{width:100%}.carousel-item .carousel-item-image[data-v-0d8f5f0e]{width:240px;height:180px}.carousel-item-name[data-v-0d8f5f0e]{padding:10px 5px}.carousel-item-selected[data-v-0d8f5f0e]{border-color:rgb(var(--primary-6));border-width:2px}.come-to-sense-craft-ai[data-v-0d8f5f0e]{display:flex;flex-direction:column;width:240px;margin-top:10px;overflow:hidden;border:1px solid var(--color-neutral-3);border-radius:var(--border-radius-small)}.come-to-sense-craft-ai img[data-v-0d8f5f0e]{width:240px;height:180px;object-fit:cover}.come-to-sense-craft-ai span[data-v-0d8f5f0e]{align-self:center;padding:10px 0}.custom-model-wrapper[data-v-0d8f5f0e]{width:240px;margin:20px 0;border:2px solid var(--color-neutral-3);border-radius:var(--border-radius-small)}.custom-model-wrapper .custom-model-image[data-v-0d8f5f0e]{width:240px;height:180px}.custom-model-name[data-v-0d8f5f0e]{display:flex;align-items:center;justify-content:center;height:25%;margin:0 5px;padding:10px 5px;text-align:center}.custom-model-selected[data-v-0d8f5f0e]{border-color:rgb(var(--primary-6));border-width:2px}.bottom[data-v-0d8f5f0e]{display:flex;align-items:center;justify-content:center;height:60px}.grid-left[data-v-0d8f5f0e]{height:48px;color:var(--color-text-2)}.device-basic-info[data-v-0d8f5f0e]{display:flex;flex-direction:column;gap:15px;margin-bottom:15px;padding:15px;background-color:var(--color-fill-1);border-radius:3px}.device-basic-info-wifi-mqtt[data-v-0d8f5f0e]{display:flex;flex-direction:row;padding:15px;background-color:var(--color-fill-1);border-radius:3px}.wifi-mqtt-container[data-v-0d8f5f0e]{display:flex;flex-direction:column;gap:15px;margin-right:auto}.container .content[data-v-c55ddeaa]{display:flex;overflow-x:auto}.container .content .item[data-v-c55ddeaa]{flex:1;margin:8px}.container .content .right[data-v-c55ddeaa]{flex:1;min-width:400px;background-color:var(--color-bg-2);border-radius:var(--border-radius-small)}.container .content[data-v-e353ee67]{display:flex;overflow-x:auto}.container .content .item[data-v-e353ee67]{flex:1;margin:8px}.container .content .right[data-v-e353ee67]{flex:1;min-width:400px;background-color:var(--color-bg-2);border-radius:var(--border-radius-small)}\n',document.head.appendChild(H),{setters:[e=>{a=e.d,o=e.b,i=e.w,r=e.C,s=e.aH,l=e.aO,n=e.aN,d=e.G,f=e.aK,c=e.u,h=e.a7,p=e.bg,g=e.bs,v=e.bf,w=e.bt,A=e.c,u=e.y,m=e.bu,b=e.D,y=e.aQ,k=e.aL,x=e.bv,S=e.aI,M=e.bw,T=e.aS,P=e.b1,F=e.b2,_=e.a_,I=e.aR,B=e.E,C=e.aP},e=>{D=e.u,Y=e.p,E=e.z,N=e._,z=e.k,G=e.F,R=e.y,W=e.D},()=>{},e=>{j=e.l},e=>{U=e.u,$=e.d,Q=e.r,O=e.a},()=>{},e=>{V=e.d},e=>{Z=e.F,J=e.a},e=>{L=e.g}],execute:function(){const t={class:"slider-top"},H={class:"slider-top"},K=N(a({__name:"Config",setup(e){const{device:a}=U(),A=D(),u=o(A.tscore),m=o(A.tiou),b=j.exports.throttle((async e=>{const t=await(a.value?.setScore(e));Number(t)===Number(e)&&(A.setScore(Number(t)),E("config",{type:"Confidence",value:e}))}),1e3),y=j.exports.throttle((async e=>{const t=await(a.value?.setIOU(e));Number(t)===Number(e)&&(A.setIOU(Number(t)),E("config",{type:"iou",value:e}))}),1e3);return i((()=>A.tscore),(e=>{e&&(u.value=A.tscore)})),i((()=>A.tiou),(e=>{e&&(m.value=A.tiou)})),(e,a)=>{const o=h,i=p,k=g,x=v,S=w;return r(),s(S,{class:"general-card",title:e.$t("workplace.preview.config.title")},{default:l((()=>[n(x,{class:"item-card",direction:"vertical",size:"large"},{default:l((()=>[n(x,{direction:"vertical",class:"slider"},{default:l((()=>[d("div",t,[d("div",null,f(e.$t("workplace.preview.config.confidence.label")),1),n(i,{content:e.$t("workplace.preview.config.confidence.tip")},{default:l((()=>[n(o,{class:"slider-tooltip"})])),_:1},8,["content"])]),n(k,{modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=e=>u.value=e),min:0,max:100,"show-input":"",disabled:!c(A).isInvoke||c(A).deviceStatus!==c(Y).SerialConnected,onChange:c(b)},null,8,["modelValue","disabled","onChange"])])),_:1}),n(x,{direction:"vertical",class:"slider"},{default:l((()=>[d("div",H,[d("div",null,f(e.$t("workplace.preview.config.iou.label")),1),n(i,{content:e.$t("workplace.preview.config.iou.tip")},{default:l((()=>[n(o,{class:"slider-tooltip"})])),_:1},8,["content"])]),n(k,{modelValue:m.value,"onUpdate:modelValue":a[1]||(a[1]=e=>m.value=e),min:0,max:100,"show-input":"",disabled:!c(A).isInvoke||c(A).deviceStatus!==c(Y).SerialConnected,onChange:c(y)},null,8,["modelValue","disabled","onChange"])])),_:1})])),_:1})])),_:1},8,["title"])}}}),[["__scopeId","data-v-239e3bc4"]]),q={class:"monitor"},X=(e=>(P("data-v-b54b8e19"),e=e(),F(),e))((()=>d("br",null,null,-1))),ee=a({data:()=>({threshold:30}),__name:"Preview",setup(e,{expose:t}){const a=o(30),{device:s,term:f}=U(),c=["#FF0000","#FFA500","#FFFF00","#32CD32","#006400","#4169E1","#0000FF","#FF1493","#FFC0CB","#800080","#FFD700","#9ACD32","#ADFF2F","#00FFFF","#1E90FF","#FF4500","#CD853F","#FF8C00","#FF6347","#8B4513","#FF69B4","#FF00FF","#BA55D3","#9400D3","#8A2BE2","#4682B4","#87CEEB","#00CED1","#20B2AA","#FFB6C1","#696969","#808080","#A9A9A9","#C0C0C0","#D3D3D3","#FFFAFA","#F0FFF0","#F5F5DC","#FFE4C4","#FFDAB9","#EEE8AA","#F0E68C","#BDB76B","#FFD700","#F5DEB3","#D2B48C","#DEB887","#BC8F8F","#F4A460","#DAA520","#CD853F","#A52A2A","#8B4513","#D2691E","#B22222","#FF6347","#FF4500","#FF8C00","#FFA07A","#FA8072","#E9967A","#FF69B4","#FF1493","#DB7093","#C71585"],h=["person","bicycle","car","motorcycle","airplane","bus","train","truck","boat","traffic light","fire hydrant","stop sign","parking meter","bench","bird","cat","dog","horse","sheep","cow","elephant","bear","zebra","giraffe","backpack","umbrella","handbag","tie","suitcase","frisbee","skis","snowboard","sports ball","kite","baseball bat","baseball glove","skateboard","surfboard","tennis racket","bottle","wine glass","cup","fork","knife","spoon","bowl","banana","apple","sandwich","orange","broccoli","carrot","hot dog","pizza","donut","cake","chair","couch","potted plant","bed","dining table","toilet","tv","laptop","mouse","remote","keyboard","cell phone","microwave","oven","toaster","sink","refrigerator","book","clock","vase","scissors","teddy bear","hair drier","toothbrush"],p=["person","bag","face"];var P=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],F=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],_=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],I=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],B=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],C=[[1,2],[2,3],[3,4],[4,1]],N=[[6,7],[7,8],[8,9],[9,6]];const G="INVOKE",R=D();z();const W=new Image,j=o(null),Q=o(!1),O=o(!0),V=A((()=>R.currentModel?.classes||[])),Z=A((()=>V.value.length)),J=()=>{console.log("handle_Set_uart_send");var e=new Uint8Array([255]);for(let t=0;t<4;t+=1)$.write(e);console.log(e)},L=()=>{console.log("handle_Set_spi_send");var e=new Uint8Array([254]);for(let t=0;t<4;t+=1)$.write(e);console.log(e)},H=()=>{console.log("handle_Set_uart_spi_send");var e=new Uint8Array([253]);for(let t=0;t<4;t+=1)$.write(e);console.log(e)},K=()=>{console.log("handle_Set_Yolov8n_od");var e=new Uint8Array([9]);for(let t=0;t<4;t+=1)$.write(e);console.log(e)},ee=()=>{console.log("handle_Set_Yolov8n_pose");var e=new Uint8Array([11]);for(let t=0;t<4;t+=1)$.write(e);console.log(e)},te=()=>{console.log("handle_Set_FD_FM");var e=new Uint8Array([5]);for(let t=0;t<4;t+=1)$.write(e);console.log(e)},ae=()=>{console.log("handle_Set_FD_FL_EL_9pt");var e=new Uint8Array([6]);for(let t=0;t<4;t+=1)$.write(e);console.log(e)},oe=()=>{console.log("handle_Set_FD_FL");var e=new Uint8Array([0]);for(let t=0;t<4;t+=1)$.write(e);console.log(e)},ie=()=>{console.log("handle_Set_yolo_fastest_xl");var e=new Uint8Array([10]);for(let t=0;t<4;t+=1)$.write(e);console.log(e)},re=e=>{const t=e.code,o=e.data;if(e.name!==G)return;if(0!==t)return E("invoke",{behavior:"stop"}),s.value?.break(),Q.value=!1,void R.setIsInvoke(!1);if(o?.perf){const e={preprocess:o.perf[0],inference:o.perf[1],postprocess:o.perf[2]};f.writeln(`perf: ${JSON.stringify(e)}`)}let i=1;if(o?.image){const e=o.image;W.onload=()=>{if(!j.value)return;const e=j.value?.getContext("2d");if(e){if(W.width<640||W.height<480?(i=3,j.value.width=W.width*(i+.5),j.value.height=W.height*(i+.5),e.drawImage(W,0,0,W.width*i,W.height*i)):(j.value.width=W.height,j.value.height=W.width,e.drawImage(W,0,0,W.width,W.height)),o?.algo_tick){f.writeln(`algo_tick: ${JSON.stringify(o.algo_tick)}`);var t=4e8/o.algo_tick[0];e.globalAlpha=1,e.font=`bold ${j.value.height/30}px arial`,e.fillStyle="#ffffff";let a="";a="FPS: "+t.toFixed(2).toString(),e.fillText(`${a}`,0,j.value.height/30)}if(o?.boxes){const t=o.boxes;f.writeln(`boxes: ${JSON.stringify(t)}`);for(let o=0;o<t.length;o+=1){const r=t[o];for(let e=0;e<4;e+=1)r[e]=r[e]*i;if(6===r?.length){const t=r[0],o=r[1],i=r[2],s=r[3],l=r[4],n=parseInt(r[5],10),d=c[n%c.length];let f="";f=h[n],e.strokeStyle=d,e.lineWidth=2,l>=a.value&&(e.strokeRect(t,o,i,s),e.fillStyle=d,e.fillRect(t,o,i,20),e.font="bold 20px arial",e.fillStyle="#000000",e.fillText(`${f}: ${l}`,t+5,o+15))}}}if(o?.peoplenet_boxes){const t=o.peoplenet_boxes;f.writeln(`peoplenet_boxes: ${JSON.stringify(t)}`);for(let o=0;o<t.length;o+=1){const r=t[o];for(let e=0;e<4;e+=1)r[e]=r[e]*i;if(6===r?.length){const t=r[0],o=r[1],i=r[2],s=r[3],l=r[4],n=parseInt(r[5],10),d=c[n%c.length];let f="";f=p[n],e.strokeStyle=d,e.lineWidth=2,l>=a.value&&(e.strokeRect(t,o,i,s),e.fillStyle=d,e.fillRect(t,o,i,20),e.font="bold 20px arial",e.fillStyle="#000000",e.fillText(`${f}: ${l}`,t+5,o+15))}}}if(o?.classes&&j.value){f.writeln(`classes: ${JSON.stringify(o.classes)}`);const t=o.classes;for(let a=0;a<t.length;a+=1){const o=t[a][1],i=t[a][0];let r="";r=V.value&&o<Z.value?V.value[o]:o.toString(),e.globalAlpha=.3,e.fillStyle=c[o%c.length],e.fillRect(j.value.width/t.length*a,0,j.value.width/t.length*(a+1),j.value.height/10),e.globalAlpha=1,e.font=`bold ${j.value.height/16}px arial`,e.fillStyle="#ffffff",e.fillText(`${r}: ${i}`,j.value.width/t.length*a,j.value.height/16)}}if(o?.keypoints){f.writeln(`keypoints: ${JSON.stringify(o.keypoints)}`);const t=o.keypoints;for(let o=0;o<t.length;o+=1){const r=t[o],s=r[0],l=r[1],n=new Set;for(let e=0;e<4;e+=1)s[e]=s[e]*i;for(let e=0;e<l.length;e+=1)l[e][0]=l[e][0]*i,l[e][1]=l[e][1]*i;if(6===s?.length){const t=s[0],i=s[1],r=s[2],l=s[3],n=s[4],d=parseInt(s[5],10),f=c[o%c.length];let h="";h=V.value&&d<Z.value?V.value[d]:d.toString(),e.strokeStyle=f,e.lineWidth=2,n>=a.value&&(e.strokeRect(t,i,r,l),e.fillStyle=f,e.fillRect(t,i,r,20),e.font="bold 20px arial",e.fillStyle="#ffffff",e.fillText(`${h}: ${n}`,t+5,i+15))}for(let e=0;e<l.length;e+=1){const t=l[e],o=t[0],i=t[1];t[2];const r=t[3];o>s[0]&&o<s[0]+s[2]&&i>s[1]&&i<s[1]+s[3]&&s[4]>=a.value&&n.add(r)}17===l.length&&(e.lineWidth=2,n.has(0)&&n.has(1)&&(e.strokeStyle=c[0],e.beginPath(),e.moveTo(l[0][0],l[0][1]),e.lineTo(l[1][0],l[1][1]),e.stroke()),n.has(0)&&n.has(2)&&(e.strokeStyle=c[0],e.beginPath(),e.moveTo(l[0][0],l[0][1]),e.lineTo(l[2][0],l[2][1]),e.stroke()),n.has(1)&&n.has(3)&&(e.strokeStyle=c[0],e.beginPath(),e.moveTo(l[1][0],l[1][1]),e.lineTo(l[3][0],l[3][1]),e.stroke()),n.has(2)&&n.has(4)&&(e.strokeStyle=c[0],e.beginPath(),e.moveTo(l[2][0],l[2][1]),e.lineTo(l[4][0],l[4][1]),e.stroke()),n.has(3)&&n.has(5)&&(e.strokeStyle=c[0],e.beginPath(),e.moveTo(l[3][0],l[3][1]),e.lineTo(l[5][0],l[5][1]),e.stroke()),n.has(4)&&n.has(6)&&(e.strokeStyle=c[0],e.beginPath(),e.moveTo(l[4][0],l[4][1]),e.lineTo(l[6][0],l[6][1]),e.stroke()),n.has(5)&&n.has(6)&&(e.strokeStyle=c[1],e.beginPath(),e.moveTo(l[5][0],l[5][1]),e.lineTo(l[6][0],l[6][1]),e.stroke()),n.has(5)&&n.has(11)&&(e.strokeStyle=c[2],e.beginPath(),e.moveTo(l[5][0],l[5][1]),e.lineTo(l[11][0],l[11][1]),e.stroke()),n.has(6)&&n.has(12)&&(e.strokeStyle=c[2],e.beginPath(),e.moveTo(l[6][0],l[6][1]),e.lineTo(l[12][0],l[12][1]),e.stroke()),n.has(11)&&n.has(12)&&(e.strokeStyle=c[2],e.beginPath(),e.moveTo(l[11][0],l[11][1]),e.lineTo(l[12][0],l[12][1]),e.stroke()),n.has(5)&&n.has(7)&&(e.strokeStyle=c[1],e.beginPath(),e.moveTo(l[5][0],l[5][1]),e.lineTo(l[7][0],l[7][1]),e.stroke()),n.has(7)&&n.has(9)&&(e.strokeStyle=c[1],e.beginPath(),e.moveTo(l[7][0],l[7][1]),e.lineTo(l[9][0],l[9][1]),e.stroke()),n.has(6)&&n.has(8)&&(e.strokeStyle=c[1],e.beginPath(),e.moveTo(l[6][0],l[6][1]),e.lineTo(l[8][0],l[8][1]),e.stroke()),n.has(8)&&n.has(10)&&(e.strokeStyle=c[1],e.beginPath(),e.moveTo(l[8][0],l[8][1]),e.lineTo(l[10][0],l[10][1]),e.stroke()),n.has(11)&&n.has(13)&&(e.strokeStyle=c[3],e.beginPath(),e.moveTo(l[11][0],l[11][1]),e.lineTo(l[13][0],l[13][1]),e.stroke()),n.has(13)&&n.has(15)&&(e.strokeStyle=c[3],e.beginPath(),e.moveTo(l[13][0],l[13][1]),e.lineTo(l[15][0],l[15][1]),e.stroke()),n.has(12)&&n.has(14)&&(e.strokeStyle=c[3],e.beginPath(),e.moveTo(l[12][0],l[12][1]),e.lineTo(l[14][0],l[14][1]),e.stroke()),n.has(14)&&n.has(16)&&(e.strokeStyle=c[3],e.beginPath(),e.moveTo(l[14][0],l[14][1]),e.lineTo(l[16][0],l[16][1]),e.stroke())),21===l.length&&(e.lineWidth=2,n.has(0)&&n.has(1)&&(e.strokeStyle=c[0],e.beginPath(),e.moveTo(l[0][0],l[0][1]),e.lineTo(l[1][0],l[1][1]),e.stroke()),n.has(1)&&n.has(2)&&(e.strokeStyle=c[0],e.beginPath(),e.moveTo(l[1][0],l[1][1]),e.lineTo(l[2][0],l[2][1]),e.stroke()),n.has(2)&&n.has(3)&&(e.strokeStyle=c[0],e.beginPath(),e.moveTo(l[2][0],l[2][1]),e.lineTo(l[3][0],l[3][1]),e.stroke()),n.has(3)&&n.has(4)&&(e.strokeStyle=c[0],e.beginPath(),e.moveTo(l[3][0],l[3][1]),e.lineTo(l[4][0],l[4][1]),e.stroke()),n.has(0)&&n.has(5)&&(e.strokeStyle=c[1],e.beginPath(),e.moveTo(l[0][0],l[0][1]),e.lineTo(l[5][0],l[5][1]),e.stroke()),n.has(5)&&n.has(6)&&(e.strokeStyle=c[1],e.beginPath(),e.moveTo(l[5][0],l[5][1]),e.lineTo(l[6][0],l[6][1]),e.stroke()),n.has(6)&&n.has(7)&&(e.strokeStyle=c[1],e.beginPath(),e.moveTo(l[6][0],l[6][1]),e.lineTo(l[7][0],l[7][1]),e.stroke()),n.has(7)&&n.has(8)&&(e.strokeStyle=c[1],e.beginPath(),e.moveTo(l[7][0],l[7][1]),e.lineTo(l[8][0],l[8][1]),e.stroke()),n.has(5)&&n.has(9)&&(e.strokeStyle=c[5],e.beginPath(),e.moveTo(l[5][0],l[5][1]),e.lineTo(l[9][0],l[9][1]),e.stroke()),n.has(9)&&n.has(10)&&(e.strokeStyle=c[2],e.beginPath(),e.moveTo(l[9][0],l[9][1]),e.lineTo(l[10][0],l[10][1]),e.stroke()),n.has(10)&&n.has(11)&&(e.strokeStyle=c[2],e.beginPath(),e.moveTo(l[10][0],l[10][1]),e.lineTo(l[11][0],l[11][1]),e.stroke()),n.has(11)&&n.has(12)&&(e.strokeStyle=c[2],e.beginPath(),e.moveTo(l[11][0],l[11][1]),e.lineTo(l[12][0],l[12][1]),e.stroke()),n.has(9)&&n.has(13)&&(e.strokeStyle=c[5],e.beginPath(),e.moveTo(l[9][0],l[9][1]),e.lineTo(l[13][0],l[13][1]),e.stroke()),n.has(13)&&n.has(14)&&(e.strokeStyle=c[3],e.beginPath(),e.moveTo(l[13][0],l[13][1]),e.lineTo(l[14][0],l[14][1]),e.stroke()),n.has(14)&&n.has(15)&&(e.strokeStyle=c[3],e.beginPath(),e.moveTo(l[14][0],l[14][1]),e.lineTo(l[15][0],l[15][1]),e.stroke()),n.has(15)&&n.has(16)&&(e.strokeStyle=c[3],e.beginPath(),e.moveTo(l[15][0],l[15][1]),e.lineTo(l[16][0],l[16][1]),e.stroke()),n.has(13)&&n.has(17)&&(e.strokeStyle=c[5],e.beginPath(),e.moveTo(l[13][0],l[13][1]),e.lineTo(l[17][0],l[17][1]),e.stroke()),n.has(0)&&n.has(17)&&(e.strokeStyle=c[4],e.beginPath(),e.moveTo(l[0][0],l[0][1]),e.lineTo(l[17][0],l[17][1]),e.stroke()),n.has(17)&&n.has(18)&&(e.strokeStyle=c[4],e.beginPath(),e.moveTo(l[17][0],l[17][1]),e.lineTo(l[18][0],l[18][1]),e.stroke()),n.has(18)&&n.has(19)&&(e.strokeStyle=c[4],e.beginPath(),e.moveTo(l[18][0],l[18][1]),e.lineTo(l[19][0],l[19][1]),e.stroke()),n.has(19)&&n.has(20)&&(e.strokeStyle=c[4],e.beginPath(),e.moveTo(l[19][0],l[19][1]),e.lineTo(l[20][0],l[20][1]),e.stroke()));for(let t=0;t<l.length;t+=1){const a=l[t],o=a[0],i=a[1],r=a[3];n.has(r)&&(e.fillStyle=c[r%c.length],e.beginPath(),e.arc(o,i,3,0,3*Math.PI),e.fill())}}}if(o?.hand_kpt){f.writeln(`hand_kpt: ${JSON.stringify(o.hand_kpt)}`);const t=o.hand_kpt;for(let o=0;o<t.length;o+=1){const r=t[o],s=r[0],l=r[1],n=new Set;for(let e=0;e<4;e+=1)s[e]=s[e]*i;for(let e=0;e<l.length;e+=1)l[e][0]=l[e][0]*i,l[e][1]=l[e][1]*i;if(6===s?.length){const t=s[0],i=s[1],r=s[2],l=s[3],n=s[4],d=parseInt(s[5],10),f=c[o%c.length];let h="";h=V.value&&d<Z.value?V.value[d]:d.toString(),e.strokeStyle=f,e.lineWidth=2,n>=a.value&&(e.strokeRect(t,i,r,l),e.fillStyle=f,e.fillRect(t,i,r,20),e.font="bold 20px arial",e.fillStyle="#ffffff",e.fillText(`${h}: ${n}`,t+5,i+15))}for(let e=0;e<l.length;e+=1){const t=l[e],o=t[0],i=t[1];t[2];const r=t[3];o>s[0]&&o<s[0]+s[2]&&i>s[1]&&i<s[1]+s[3]&&s[4]>=a.value&&n.add(r)}for(let t=0;t<l.length;t+=1){const a=l[t],o=a[0],i=a[1],r=a[3];n.has(r)&&(e.fillStyle=c[r%c.length],e.beginPath(),e.arc(o,i,10,0,3*Math.PI),e.fill())}}}if(o?.fm_points){f.writeln(`fm_points: ${JSON.stringify(o.fm_points)}`);const t=o.fm_points;for(let o=0;o<t.length;o+=1){const f=t[o],h=f[0],p=f[1],y=f[2],k=f[3],x=new Set;for(let e=0;e<4;e+=1)h[e]=h[e]*i;for(let e=0;e<p.length;e+=1)p[e][0]=p[e][0]*i,p[e][1]=p[e][1]*i;for(let e=0;e<y.length;e+=1)y[e][0]=y[e][0]*i,y[e][1]=y[e][1]*i;if(6===h?.length){const t=h[0],i=h[1],r=h[2],s=h[3],l=h[4],n=parseInt(h[5],10),d=c[o%c.length];let f="";f=V.value&&n<Z.value?V.value[n]:n.toString(),e.strokeStyle=d,e.lineWidth=2,l>=a.value&&(e.strokeRect(t,i,r,s),e.fillStyle=d,e.fillRect(t,i,r,20),e.font="bold 20px arial",e.fillStyle="#ffffff",e.fillText(`${f}: ${l}`,t+5,i+15))}for(let e=0;e<p.length;e+=1){const t=p[e],o=t[0],i=t[1],r=t[2],s=t[3];o>h[0]&&o<h[0]+h[2]&&i>h[1]&&i<h[1]+h[3]&&r>=a.value&&x.add(s)}e.lineWidth=2;for(let t=0;t<40;t+=1){var r=p[P[t][0]][0],s=p[P[t][0]][1],l=p[P[t][1]][0],n=p[P[t][1]][1];r>h[0]&&r<h[0]+h[2]&&s>h[1]&&s<h[1]+h[3]&&l>h[0]&&l<h[0]+h[2]&&n>h[1]&&n<h[1]+h[3]&&(e.strokeStyle="#ffff00",e.beginPath(),e.moveTo(r,s),e.lineTo(l,n),e.stroke())}for(let t=0;t<16;t+=1)r=p[F[t][0]][0],s=p[F[t][0]][1],l=p[F[t][1]][0],n=p[F[t][1]][1],r>h[0]&&r<h[0]+h[2]&&s>h[1]&&s<h[1]+h[3]&&l>h[0]&&l<h[0]+h[2]&&n>h[1]&&n<h[1]+h[3]&&(e.strokeStyle="#00ff00",e.beginPath(),e.moveTo(r,s),e.lineTo(l,n),e.stroke());for(let t=0;t<8;t+=1)r=p[_[t][0]][0],s=p[_[t][0]][1],l=p[_[t][1]][0],n=p[_[t][1]][1],r>h[0]&&r<h[0]+h[2]&&s>h[1]&&s<h[1]+h[3]&&l>h[0]&&l<h[0]+h[2]&&n>h[1]&&n<h[1]+h[3]&&(e.strokeStyle="#00ff00",e.beginPath(),e.moveTo(r,s),e.lineTo(l,n),e.stroke());for(let t=0;t<16;t+=1)r=p[I[t][0]][0],s=p[I[t][0]][1],l=p[I[t][1]][0],n=p[I[t][1]][1],r>h[0]&&r<h[0]+h[2]&&s>h[1]&&s<h[1]+h[3]&&l>h[0]&&l<h[0]+h[2]&&n>h[1]&&n<h[1]+h[3]&&(e.strokeStyle="#ff00ff",e.beginPath(),e.moveTo(r,s),e.lineTo(l,n),e.stroke());for(let t=0;t<8;t+=1)r=p[B[t][0]][0],s=p[B[t][0]][1],l=p[B[t][1]][0],n=p[B[t][1]][1],r>h[0]&&r<h[0]+h[2]&&s>h[1]&&s<h[1]+h[3]&&l>h[0]&&l<h[0]+h[2]&&n>h[1]&&n<h[1]+h[3]&&(e.strokeStyle="#ff00ff",e.beginPath(),e.moveTo(r,s),e.lineTo(l,n),e.stroke());for(let t=0;t<4;t+=1)r=y[N[t][0]][0],s=y[N[t][0]][1],l=y[N[t][1]][0],n=y[N[t][1]][1],r>h[0]&&r<h[0]+h[2]&&s>h[1]&&s<h[1]+h[3]&&l>h[0]&&l<h[0]+h[2]&&n>h[1]&&n<h[1]+h[3]&&(e.strokeStyle="#ff4500",e.beginPath(),e.moveTo(r,s),e.lineTo(l,n),e.stroke());for(let t=0;t<4;t+=1)r=y[C[t][0]][0],s=y[C[t][0]][1],l=y[C[t][1]][0],n=y[C[t][1]][1],r>h[0]&&r<h[0]+h[2]&&s>h[1]&&s<h[1]+h[3]&&l>h[0]&&l<h[0]+h[2]&&n>h[1]&&n<h[1]+h[3]&&(e.strokeStyle="#ff4500",e.beginPath(),e.moveTo(r,s),e.lineTo(l,n),e.stroke());for(let t=0;t<p.length;t+=1){const a=p[t],o=a[0],i=a[1],r=a[3];x.has(r)&&(e.fillStyle="#00ffff",e.beginPath(),e.arc(o,i,1,0,3*Math.PI),e.fill())}for(let t=0;t<y.length;t+=1){const a=y[t],o=a[0],i=a[1],r=a[3];x.has(r)&&(e.fillStyle=0==t||5==t?"#ff0000":"#ffff00",e.beginPath(),e.arc(o,i,1,0,3*Math.PI),e.fill())}const S=p[19][3];if(x.has(S)){let t=k[0],a=-t[0]/100*-1*Math.PI/180,o=t[1]/100*-1*Math.PI/180,i=t[2]/100*-1*Math.PI/180;t[3],t[4],t[5];let r=100,s=p[19][0],l=p[19][1],n=r*(Math.cos(a)*Math.cos(i))+s,f=r*(Math.cos(o)*Math.sin(i)+Math.cos(i)*Math.sin(o)*Math.sin(a))+l,c=r*(-Math.cos(a)*Math.sin(i))+s,h=r*(Math.cos(o)*Math.cos(i)-Math.sin(o)*Math.sin(a)*Math.sin(i))+l,x=r*Math.sin(a)+s,S=r*(-Math.cos(a)*Math.sin(o))+l;e.lineWidth=4,e.strokeStyle="#0000ff",e.beginPath(),e.moveTo(s,l),e.lineTo(n,f),e.stroke(),e.strokeStyle="#00ff00",e.beginPath(),e.moveTo(s,l),e.lineTo(c,h),e.stroke(),e.strokeStyle="#ff0000",e.beginPath(),e.moveTo(s,l),e.lineTo(x,S),e.stroke();let M=(t[6]/100+t[8]/100)/2,T=(t[7]/100+t[9]/100)/2,P=y[5][0],F=y[5][1];var d=P,g=F,v=-1*r*Math.sin(T)+P,w=-1*r*Math.sin(M)+F;e.lineWidth=3,e.strokeStyle="#ff0000";var A=10,u=v-d,m=w-g,b=Math.atan2(m,u);e.moveTo(d,g),e.lineTo(v,w),e.lineTo(v-A*Math.cos(b-Math.PI/6),w-A*Math.sin(b-Math.PI/6)),e.moveTo(v,w),e.lineTo(v-A*Math.cos(b+Math.PI/6),w-A*Math.sin(b+Math.PI/6)),e.stroke();let _=y[0][0],I=y[0][1];d=_,g=I,v=-1*r*Math.sin(T)+_,w=-1*r*Math.sin(M)+I,e.lineWidth=3,e.strokeStyle="#ff0000",A=10,u=v-d,m=w-g,b=Math.atan2(m,u),e.moveTo(d,g),e.lineTo(v,w),e.lineTo(v-A*Math.cos(b-Math.PI/6),w-A*Math.sin(b-Math.PI/6)),e.moveTo(v,w),e.lineTo(v-A*Math.cos(b+Math.PI/6),w-A*Math.sin(b+Math.PI/6)),e.stroke()}}}if(o?.fm_face_boxes){const t=o.fm_face_boxes;f.writeln(`fm_face_boxes: ${JSON.stringify(t)}`);for(let o=0;o<t.length;o+=1){const r=t[o];for(let e=0;e<4;e+=1)r[e]=r[e]*i;if(6===r?.length){const t=r[0],o=r[1],i=r[2],s=r[3],l=r[4],n=parseInt(r[5],10),d=c[n%c.length];let f="";f=V.value&&n<Z.value?V.value[n]:n.toString(),e.strokeStyle=d,e.lineWidth=2,l>=a.value&&(e.strokeRect(t,o,i,s),e.fillStyle=d,e.fillRect(t,o,i,20),e.font="bold 20px arial",e.fillStyle="#ffffff",e.fillText(`${f}: ${l}`,t+5,o+15))}}}if(o?.fd_fl){f.writeln(`fd_fl: ${JSON.stringify(o.fd_fl)}`);const t=o.fd_fl;for(let o=0;o<t.length;o+=1){const r=t[o],s=r[0],l=r[1],n=r[2],d=new Set;for(let e=0;e<4;e+=1)s[e]=s[e]*i;for(let e=0;e<l.length;e+=1)l[e][0]=l[e][0]*i,l[e][1]=l[e][1]*i;if(6===s?.length){const t=s[0],i=s[1],r=s[2],l=s[3],n=s[4],d=parseInt(s[5],10),f=c[o%c.length];let h="";h=V.value&&d<Z.value?V.value[d]:d.toString(),e.strokeStyle=f,e.lineWidth=2,n>=a.value&&(e.strokeRect(t,i,r,l),e.fillStyle=f,e.fillRect(t,i,r,20),e.font="bold 20px arial",e.fillStyle="#ffffff",e.fillText(`${h}: ${n}`,t+5,i+15))}if(s[4]>=a.value)for(let e=0;e<l.length;e+=1){const t=l[e],a=t[0],o=t[1],i=t[2];a>s[0]&&a<s[0]+s[2]&&o>s[1]&&o<s[1]+s[3]&&d.add(i)}for(let t=0;t<l.length;t+=1){const a=l[t],o=a[0],i=a[1],r=a[2];d.has(r)&&(e.fillStyle="#ff4500",e.beginPath(),e.arc(o,i,2,0,3*Math.PI),e.fill())}const f=l[30][2];if(d.has(f)){let t=n[0],a=-t[0]/100*-1*Math.PI/180,o=t[1]/100*-1*Math.PI/180,i=t[2]/100*-1*Math.PI/180;t[3],t[4],t[5];let r=100,s=l[30][0],d=l[30][1],f=r*(Math.cos(a)*Math.cos(i))+s,c=r*(Math.cos(o)*Math.sin(i)+Math.cos(i)*Math.sin(o)*Math.sin(a))+d,h=r*(-Math.cos(a)*Math.sin(i))+s,p=r*(Math.cos(o)*Math.cos(i)-Math.sin(o)*Math.sin(a)*Math.sin(i))+d,g=r*Math.sin(a)+s,v=r*(-Math.cos(a)*Math.sin(o))+d;e.lineWidth=4,e.strokeStyle="#0000ff",e.beginPath(),e.moveTo(s,d),e.lineTo(f,c),e.stroke(),e.strokeStyle="#00ff00",e.beginPath(),e.moveTo(s,d),e.lineTo(h,p),e.stroke(),e.strokeStyle="#ff0000",e.beginPath(),e.moveTo(s,d),e.lineTo(g,v),e.stroke()}}}if(o?.fd_fl_el_9pt){f.writeln(`fd_fl_el_9pt: ${JSON.stringify(o.fd_fl_el_9pt)}`);const t=o.fd_fl_el_9pt;for(let o=0;o<t.length;o+=1){const r=t[o],s=r[0],l=r[1],n=r[2],f=r[3],h=r[4],p=new Set;for(let e=0;e<4;e+=1)s[e]=s[e]*i;for(let e=0;e<l.length;e+=1)l[e][0]=l[e][0]*i,l[e][1]=l[e][1]*i;for(let e=0;e<n.length;e+=1)n[e][0]=n[e][0]*i,n[e][1]=n[e][1]*i;for(let e=0;e<f.length;e+=1)f[e][0]=f[e][0]*i,f[e][1]=f[e][1]*i;if(6===s?.length){const t=s[0],i=s[1],r=s[2],l=s[3],n=s[4],d=parseInt(s[5],10),f=c[o%c.length];let h="";h=V.value&&d<Z.value?V.value[d]:d.toString(),e.strokeStyle=f,e.lineWidth=2,n>=a.value&&(e.strokeRect(t,i,r,l),e.fillStyle=f,e.fillRect(t,i,r,20),e.font="bold 20px arial",e.fillStyle="#ffffff",e.fillText(`${h}: ${n}`,t+5,i+15))}if(s[4]>=a.value)for(let e=0;e<l.length;e+=1){const t=l[e],a=t[0],o=t[1],i=t[2];a>s[0]&&a<s[0]+s[2]&&o>s[1]&&o<s[1]+s[3]&&p.add(i)}for(let t=0;t<l.length;t+=1){const a=l[t],o=a[0],i=a[1],r=a[2];p.has(r)&&(e.fillStyle="#ff4500",e.beginPath(),e.arc(o,i,2,0,3*Math.PI),e.fill())}for(let t=0;t<n.length;t+=1){const a=n[t],o=a[0],i=a[1],r=a[2];p.has(r)&&(e.fillStyle=8==t?"#ff0000":"#00ffff",e.beginPath(),e.arc(o,i,2,0,3*Math.PI),e.fill())}for(let t=0;t<f.length;t+=1){const a=f[t],o=a[0],i=a[1],r=a[2];p.has(r)&&(e.fillStyle=8==t?"#ff0000":"#00ffff",e.beginPath(),e.arc(o,i,2,0,3*Math.PI),e.fill())}const y=l[30][2];if(p.has(y)){let t=h[0],a=-t[0]/100*-1*Math.PI/180,o=t[1]/100*-1*Math.PI/180,i=t[2]/100*-1*Math.PI/180;t[3],t[4],t[5];let r=100,s=l[30][0],c=l[30][1],p=r*(Math.cos(a)*Math.cos(i))+s,y=r*(Math.cos(o)*Math.sin(i)+Math.cos(i)*Math.sin(o)*Math.sin(a))+c,k=r*(-Math.cos(a)*Math.sin(i))+s,x=r*(Math.cos(o)*Math.cos(i)-Math.sin(o)*Math.sin(a)*Math.sin(i))+c,S=r*Math.sin(a)+s,M=r*(-Math.cos(a)*Math.sin(o))+c;e.lineWidth=4,e.strokeStyle="#0000ff",e.beginPath(),e.moveTo(s,c),e.lineTo(p,y),e.stroke(),e.strokeStyle="#00ff00",e.beginPath(),e.moveTo(s,c),e.lineTo(k,x),e.stroke(),e.strokeStyle="#ff0000",e.beginPath(),e.moveTo(s,c),e.lineTo(S,M),e.stroke();let T=(t[6]/100+t[8]/100)/2,P=(t[7]/100+t[9]/100)/2;r=150;let F=f[8][0],_=f[8][1];d=F,g=_,v=-1*r*Math.sin(P)+F,w=-1*r*Math.sin(T)+_,e.lineWidth=3,e.strokeStyle="#ff0000",A=10,u=v-d,m=w-g,b=Math.atan2(m,u),e.moveTo(d,g),e.lineTo(v,w),e.lineTo(v-A*Math.cos(b-Math.PI/6),w-A*Math.sin(b-Math.PI/6)),e.moveTo(v,w),e.lineTo(v-A*Math.cos(b+Math.PI/6),w-A*Math.sin(b+Math.PI/6)),e.stroke();let I=n[8][0],B=n[8][1];d=I,g=B,v=-1*r*Math.sin(P)+I,w=-1*r*Math.sin(T)+B,e.lineWidth=3,e.strokeStyle="#ff0000",A=10,u=v-d,m=w-g,b=Math.atan2(m,u),e.moveTo(d,g),e.lineTo(v,w),e.lineTo(v-A*Math.cos(b-Math.PI/6),w-A*Math.sin(b-Math.PI/6)),e.moveTo(v,w),e.lineTo(v-A*Math.cos(b+Math.PI/6),w-A*Math.sin(b+Math.PI/6)),e.stroke()}}}if(o?.gender_cls_boxes){const t=o.gender_cls_boxes;f.writeln(`gender_cls_boxes: ${JSON.stringify(t)}`);for(let o=0;o<t.length;o+=1){const r=t[o];for(let e=0;e<4;e+=1)r[e]=r[e]*i;if(6===r?.length){const t=r[0],o=r[1],i=r[2],s=r[3],l=r[4],n=parseInt(r[5],10);var y=c[n%c.length];let d="";V.value&&n<Z.value?d=V.value[n]:0==n?(d="Female",y="#ff00ff"):1==n&&(d="Male",y="#0000ff"),l>=a.value&&(e.strokeRect(t,o,i,s),e.fillStyle=y,e.fillRect(t,o,i,20),e.font="bold 20px arial",e.fillStyle="#ffffff",e.fillText(`${d}: ${l}`,t+5,o+15))}}}}},W.src=`data:image/jpg;base64,${e}`}};t({onInvoke:re});const se=async()=>{if(R.deviceStatus===Y.SerialConnected&&R.currentAvailableModel)if(s.value?.addEventListener(G,re),O.value=!1,await(s.value?.isInvoke()))Q.value=!0,R.setIsInvoke(!0);else{const e=await(s.value?.invoke(-1));Q.value=!!e}else R.setIsInvoke(!1),O.value=!0,Q.value=!1};return i((()=>R.currentAvailableModel),se),u(se),m((()=>{s.value?.removeEventListener(G)})),(e,t)=>{const o=g,i=x,s=S,f=M,c=w,h=T,p=v;return r(),b(k,null,[n(c,{class:"general-card",title:e.$t("workplace.preview.title"),"header-style":{paddingBottom:"0"}},{default:l((()=>[d("div",null,[n(f,null,{default:l((()=>[y(" Threshold: "),n(i,{span:12},{default:l((()=>[n(o,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),min:1,max:100},null,8,["modelValue"])])),_:1}),n(i,{span:4},{default:l((()=>[n(s,{modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e),min:1,max:100,style:{marginLeft:"16px"}},null,8,["modelValue"])])),_:1})])),_:1})]),d("div",q,[d("canvas",{ref_key:"canvas",ref:j,class:"preview"},null,512)])])),_:1},8,["title"]),d("div",null,[n(p,null,{default:l((()=>[n(h,{type:"primary",onClick:oe},{default:l((()=>[y(" FD_FL ")])),_:1}),n(h,{type:"primary",onClick:ae},{default:l((()=>[y(" FD_FL_EL_9pt ")])),_:1}),n(h,{type:"primary",onClick:te},{default:l((()=>[y(" FD_FM ")])),_:1}),n(h,{type:"primary",onClick:K},{default:l((()=>[y(" Yolov8n od ")])),_:1}),n(h,{type:"primary",onClick:ee},{default:l((()=>[y(" Yolov8n pose ")])),_:1}),n(h,{type:"primary",onClick:ie},{default:l((()=>[y(" Yolo_fastest_xl ")])),_:1})])),_:1})]),X,d("div",null,[n(p,null,{default:l((()=>[n(h,{type:"primary",onClick:J},{default:l((()=>[y(" uart_send ")])),_:1}),n(h,{type:"primary",onClick:L},{default:l((()=>[y(" spi_send ")])),_:1}),n(h,{type:"primary",onClick:H},{default:l((()=>[y(" uart_spi_send ")])),_:1})])),_:1})])],64)}}}),te=N(ee,[["__scopeId","data-v-b54b8e19"]]),ae=N(a({__name:"Device",props:{flasher:{},readFile:{type:Function}},setup(e){const{t:t}=z();L();const a=D();U(),o(),o(!1),o(null),o(!1),o(""),o([]),o(null),o(!1);const r=o(""),s=o(-1),l=o(!1),n=o(!1),d=o(!1);return i((()=>a.flashProgress),(()=>{a.deviceStatus===Y.Flashing&&(r.value=t("workplace.device.message.tip.flashing",{progress:a.flashProgress}))})),i((()=>a.currentModel),(e=>{if(e?.isCustom)l.value=e?.isCustom;else if(e?.uuid&&a.currentAvailableModel){const t=a.models?.findIndex((t=>t.uuid===e.uuid));s.value=t}})),i((()=>a.flashWay),(async()=>{a.flashWay!==G.ComeToSenseCraftAI||n.value||(d.value=!0)})),(e,t)=>null}}),[["__scopeId","data-v-0d8f5f0e"]]),oe=a({__name:"Device",setup(e){const{device:t,term:a}=U(),o=D(),{t:l}=z(),n=new Z,d=async()=>{if(o.deviceStatus===Y.SerialConnected)try{const a=await(t.value?.getName()),i=await(t.value?.getVersion()),r=await(t.value?.getID()),s=await(t.value?.getInfo()),n=await(t.value?.getModel());let d=null;if(s)try{const e=V(s);d=JSON.parse(e)}catch(e){console.error(e)}o.setDeviceName(a),o.setDeviceVersion(i),o.setDeviceId(r),o.setCurrentModel(d),o.setCurrentAvailableModel(void 0!==n?.id),o.flashWay!==G.ComeToSenseCraftAI&&o.setFlashWay(G[d?.isCustom?"Custom":"Prefabricated"]),a||i||d||n||I.warning(l("workplace.serial.command.timeout"))}catch(e){console.log(e),a.writeln(`Error: ${e?.message}`)}},f=e=>new Promise(((t,a)=>{const o=new FileReader;o.onload=e=>{const a=e?.target?.result;t(a)},o.readAsBinaryString(e)}));return u((async()=>{const e=await Q((()=>fetch(`https://files.seeedstudio.com/sscma/sscma-model.json?timestamp=${(new Date).getTime()}`).then((e=>e.json()))),5,500);o.setModels(e.models);const t=e.firmwares;t?.length>0&&o.setFirmware(t[0])})),u(d),_(o.clearDeviceInfo),i((()=>o.deviceStatus),d),(e,t)=>(r(),s(ae,{flasher:c(n),"read-file":f},null,8,["flasher"]))}}),ie={class:"container"},re={class:"content"},se={class:"item"},le={class:B(["item","right"])},ne=N(a({__name:"index",setup:e=>(e,t)=>(r(),b("div",ie,[d("div",re,[d("div",se,[n(oe)]),d("div",le,[n(K),n(te)])])]))}),[["__scopeId","data-v-c55ddeaa"]]),de=a({__name:"Device",setup(e){const{device:t,term:a}=U(),o=D(),l=new J,{t:n}=z();(()=>{const e=D(),{device:t}=U(),a=t=>{let a=!1,o=!0;return{start:async function i(r=!0){if(!a&&e.deviceStatus===Y.SerialConnected){a=!0;try{await O(r?1e3:5e3),await t()}catch(s){console.log("get wifi info error",s)}finally{a=!1,o&&await i(!1)}}},stop:function(){o=!1}}},{start:o,stop:r}=a((async()=>{const a=await(t.value?.getWifi());e.setDeviceIPv4AddressAndStatus(a?.in4_info?.ip,a?.status)})),{start:s,stop:l}=a((async()=>{const a=await(t.value?.getMqttServer());e.setDeviceServerState(a?.status)}));u(o),u(s),_(r),_(l),i((()=>e.deviceStatus),(()=>{o(),s()}))})();const d=async()=>{if(o.deviceStatus===Y.SerialConnected)try{const[e,a,i,r,s]=await Promise.all([t.value?.getName(),t.value?.getVersion(),Q((()=>t.value?.getInfo().then((e=>{if(!e)return null;try{const t=V(e);return JSON.parse(t)}catch(t){return console.error(t),null}}))),5,1e3,null),t.value?.getModel(),t.value?.getID()]);o.setDeviceName(e),o.setDeviceVersion(a),o.setDeviceId(s),o.setIsCanMqtt(!0),o.setIsCanWifi(!0),o.setCurrentModel(i),o.setCurrentAvailableModel(void 0!==r?.id),o.flashWay!==G.ComeToSenseCraftAI&&o.setFlashWay(G[i?.isCustom?"Custom":"Prefabricated"]),e||a||i||r||I.warning(n("workplace.serial.command.timeout"))}catch(e){console.error(e),a.writeln(`Error: ${e?.message}`)}},f=e=>new Promise(((t,a)=>{const o=new FileReader;o.onloadend=()=>{const e=o.result,a=new Uint8Array(e);t(a)},o.onerror=a,o.readAsArrayBuffer(e)}));return u((async()=>{const e=await Q((()=>fetch(`https://files.seeedstudio.com/sscma/sscma-model-we2.json?timestamp=${(new Date).getTime()}`).then((e=>e.json()))),5,500);o.setModels(e.models);const t=e.firmwares;t?.length>0&&o.setFirmware(t[0])})),u(d),_(o.clearDeviceInfo),i((()=>o.deviceStatus),d),(e,t)=>(r(),s(ae,{flasher:c(l),"read-file":f},null,8,["flasher"]))}}),fe={class:"container"},ce={class:"content"},he={class:"item"},pe={class:"item"},ge=N(a({__name:"index",setup:e=>(e,t)=>(r(),b("div",fe,[d("div",ce,[d("div",he,[n(te)]),d("div",pe,[n(de)])])]))}),[["__scopeId","data-v-e353ee67"]]);e("default",a({__name:"index",setup(e){const t=D();return(e,a)=>c(t).deviceType.id===c(R)[c(W).XiaoEsp32s3].id?(r(),s(ne,{key:0})):c(t).deviceType.id===c(R)[c(W).GroveAIWE2].id?(r(),s(ge,{key:1})):C("",!0)}}))}}}));
