System.register(["./arco-legacy.e274f5da.js","./index-legacy.3b160781.js","./Flasher-legacy.5c9d5aef.js","./index-legacy.bf732e88.js","./index-legacy.4373032b.js","./index-legacy.8f5c53d6.js","./index-legacy.739998412.js","./index-legacy.791c9745.js","./vue-legacy.77c02482.js"],(function(r,e){"use strict";var o,a,t,i,s,l,c,p,n,d,u,g,m,f,x,b,v,h,w,y,k,z,_,C,j,E,F,$,A=document.createElement("style");return A.textContent='.arco-progress{position:relative;line-height:1;font-size:12px}.arco-progress-type-line,.arco-progress-type-steps{display:inline-block;max-width:100%;width:100%}.arco-progress-type-line.arco-progress-size-mini{width:auto}.arco-progress-line-wrapper,.arco-progress-steps-wrapper{display:flex;align-items:center;width:100%;max-width:100%;height:100%}.arco-progress-line-text,.arco-progress-steps-text{font-size:12px;margin-left:16px;color:var(--color-text-2);white-space:nowrap;text-align:right;flex-grow:1;flex-shrink:0;min-width:32px}.arco-progress-line-text .arco-icon,.arco-progress-steps-text .arco-icon{font-size:12px;margin-left:4px}.arco-progress-line{background-color:var(--color-fill-3);border-radius:100px;width:100%;position:relative;display:inline-block;overflow:hidden}.arco-progress-line-bar{height:100%;border-radius:100px;background-color:rgb(var(--primary-6));position:relative;transition:width .6s cubic-bezier(.34,.69,.1,1),background .3s cubic-bezier(.34,.69,.1,1);max-width:100%}.arco-progress-line-bar-buffer{position:absolute;background-color:var(--color-primary-light-3);height:100%;top:0;left:0;border-radius:0 100px 100px 0;max-width:100%;transition:all .6s cubic-bezier(.34,.69,.1,1)}.arco-progress-line-bar-animate:after{content:"";display:block;position:absolute;top:0;width:100%;height:100%;border-radius:inherit;background:linear-gradient(90deg,transparent 25%,rgba(255,255,255,.5) 50%,transparent 75%);background-size:400% 100%;animation:arco-progress-loading 1.5s cubic-bezier(.34,.69,.1,1) infinite}.arco-progress-line-text .arco-icon{color:var(--color-text-2)}.arco-progress-type-steps.arco-progress-size-small{width:auto}.arco-progress-type-steps.arco-progress-size-small .arco-progress-steps-item{width:2px;flex:unset;border-radius:2px}.arco-progress-type-steps.arco-progress-size-small .arco-progress-steps-item:not(:last-of-type){margin-right:3px}.arco-progress-steps{display:flex;width:100%}.arco-progress-steps-text{margin-left:8px;min-width:unset}.arco-progress-steps-text .arco-icon{color:var(--color-text-2)}.arco-progress-steps-item{height:100%;flex:1;background-color:var(--color-fill-3);position:relative;display:inline-block}.arco-progress-steps-item:not(:last-of-type){margin-right:3px}.arco-progress-steps-item:last-of-type{border-top-right-radius:100px;border-bottom-right-radius:100px}.arco-progress-steps-item:first-of-type{border-top-left-radius:100px;border-bottom-left-radius:100px}.arco-progress-steps-item-active{background-color:rgb(var(--primary-6))}.arco-progress-status-warning .arco-progress-line-bar,.arco-progress-status-warning .arco-progress-steps-item-active{background-color:rgb(var(--warning-6))}.arco-progress-status-warning .arco-progress-line-text .arco-icon,.arco-progress-status-warning .arco-progress-steps-text .arco-icon{color:rgb(var(--warning-6))}.arco-progress-status-success .arco-progress-line-bar,.arco-progress-status-success .arco-progress-steps-item-active{background-color:rgb(var(--success-6))}.arco-progress-status-success .arco-progress-line-text .arco-icon,.arco-progress-status-success .arco-progress-steps-text .arco-icon{color:rgb(var(--success-6))}.arco-progress-status-danger .arco-progress-line-bar,.arco-progress-status-danger .arco-progress-steps-item-active{background-color:rgb(var(--danger-6))}.arco-progress-status-danger .arco-progress-line-text .arco-icon,.arco-progress-status-danger .arco-progress-steps-text .arco-icon{color:rgb(var(--danger-6))}.arco-progress-size-small .arco-progress-line-text{font-size:12px;margin-left:16px}.arco-progress-size-small .arco-progress-line-text .arco-icon{font-size:12px}.arco-progress-size-large .arco-progress-line-text{font-size:16px;margin-left:16px}.arco-progress-size-large .arco-progress-line-text .arco-icon{font-size:14px}.arco-progress-type-circle{display:inline-block}.arco-progress-circle-wrapper{position:relative;text-align:center;line-height:1;display:inline-block;vertical-align:text-bottom}.arco-progress-circle-svg{transform:rotate(-90deg)}.arco-progress-circle-text{position:absolute;top:50%;left:50%;color:var(--color-text-3);transform:translate(-50%,-50%);font-size:14px}.arco-progress-circle-text .arco-icon{font-size:16px;color:var(--color-text-2)}.arco-progress-circle-bg{stroke:var(--color-fill-3)}.arco-progress-circle-bar{stroke:rgb(var(--primary-6));transition:stroke-dashoffset .6s cubic-bezier(0,0,1,1) 0s,stroke .6s cubic-bezier(0,0,1,1)}.arco-progress-size-mini .arco-progress-circle-bg{stroke:var(--color-primary-light-3)}.arco-progress-size-mini .arco-progress-circle-bar{stroke:rgb(var(--primary-6))}.arco-progress-size-mini.arco-progress-status-warning .arco-progress-circle-bg{stroke:var(--color-warning-light-3)}.arco-progress-size-mini.arco-progress-status-danger .arco-progress-circle-bg{stroke:var(--color-danger-light-3)}.arco-progress-size-mini.arco-progress-status-success .arco-progress-circle-bg{stroke:var(--color-success-light-3)}.arco-progress-size-mini .arco-progress-circle-wrapper .arco-icon-check{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.arco-progress-size-mini .arco-progress-circle-text{position:static;top:unset;left:unset;transform:unset}.arco-progress-size-small .arco-progress-circle-text{font-size:13px}.arco-progress-size-small .arco-progress-circle-text .arco-icon{font-size:14px}.arco-progress-size-large .arco-progress-circle-text,.arco-progress-size-large .arco-progress-circle-text .arco-icon{font-size:16px}.arco-progress-status-warning .arco-progress-circle-bar{stroke:rgb(var(--warning-6))}.arco-progress-status-warning .arco-icon{color:rgb(var(--warning-6))}.arco-progress-status-success .arco-progress-circle-bar{stroke:rgb(var(--success-6))}.arco-progress-status-success .arco-icon{color:rgb(var(--success-6))}.arco-progress-status-danger .arco-progress-circle-bar{stroke:rgb(var(--danger-6))}.arco-progress-status-danger .arco-icon{color:rgb(var(--danger-6))}@keyframes arco-progress-loading{0%{background-position:100% 50%}to{background-position:0 50%}}.arco-upload{display:inline-block;max-width:100%;cursor:pointer}.arco-upload.arco-upload-draggable{width:100%}.arco-upload-tip{margin-top:4px;overflow:hidden;color:var(--color-text-3);font-size:12px;line-height:1.5;white-space:nowrap;text-overflow:ellipsis}.arco-upload-picture-card{display:flex;flex-direction:column;justify-content:center;min-width:80px;height:80px;margin-bottom:0;color:var(--color-text-2);text-align:center;background:var(--color-fill-2);border:1px dashed var(--color-neutral-3);border-radius:var(--border-radius-small);transition:all .1s cubic-bezier(0,0,1,1)}.arco-upload-picture-card:hover{color:var(--color-text-2);background-color:var(--color-fill-3);border-color:var(--color-neutral-4)}.arco-upload-drag{width:100%;padding:50px 0;color:var(--color-text-1);text-align:center;background-color:var(--color-fill-1);border:1px dashed var(--color-neutral-3);border-radius:var(--border-radius-small);transition:all .2s ease}.arco-upload-drag .arco-icon-plus{margin-bottom:24px;color:var(--color-text-2);font-size:14px}.arco-upload-drag:hover{background-color:var(--color-fill-3);border-color:var(--color-neutral-4)}.arco-upload-drag:hover .arco-upload-drag-text{color:var(--color-text-1)}.arco-upload-drag:hover .arco-icon-plus{color:var(--color-text-2)}.arco-upload-drag-active{color:var(--color-text-1);background-color:var(--color-primary-light-1);border-color:rgb(var(--primary-6))}.arco-upload-drag-active .arco-upload-drag-text{color:var(--color-text-1)}.arco-upload-drag-active .arco-icon-plus{color:rgb(var(--primary-6))}.arco-upload-drag .arco-upload-tip{margin-top:0}.arco-upload-drag-text{color:var(--color-text-1);font-size:14px;line-height:1.5}.arco-upload-wrapper{width:100%}.arco-upload-wrapper.arco-upload-wrapper-type-picture-card{display:flex;justify-content:flex-start}.arco-upload-drag{width:100%}.arco-upload-hide{display:none}.arco-upload-disabled .arco-upload-picture-card,.arco-upload-disabled .arco-upload-picture-card:hover{color:var(--color-text-4);background-color:var(--color-fill-1);border-color:var(--color-neutral-4);cursor:not-allowed}.arco-upload-disabled .arco-upload-drag,.arco-upload-disabled .arco-upload-drag:hover{background-color:var(--color-fill-1);border-color:var(--color-text-4);cursor:not-allowed}.arco-upload-disabled .arco-upload-drag .arco-icon-plus,.arco-upload-disabled .arco-upload-drag:hover .arco-icon-plus,.arco-upload-disabled .arco-upload-drag .arco-upload-drag-text,.arco-upload-disabled .arco-upload-drag:hover .arco-upload-drag-text,.arco-upload-disabled .arco-upload-tip{color:var(--color-text-4)}.arco-upload-icon{cursor:pointer}.arco-upload-icon-error{margin-left:4px;color:rgb(var(--danger-6))}.arco-upload-icon-success{color:rgb(var(--success-6));font-size:14px;line-height:14px}.arco-upload-icon-remove{position:relative;font-size:14px}.arco-upload-icon-start,.arco-upload-icon-cancel{position:absolute;top:50%;left:50%;color:var(--color-white);font-size:12px;transform:translate(-50%) translateY(-50%)}.arco-upload-icon-upload{color:rgb(var(--primary-6));font-size:14px;cursor:pointer;transition:all .2s ease}.arco-upload-icon-upload:active,.arco-upload-icon-upload:hover{color:rgb(var(--primary-7))}.arco-upload-list{margin:0;padding:0;list-style:none}.arco-upload-list.arco-upload-list-type-text,.arco-upload-list.arco-upload-list-type-picture{width:100%}.arco-upload-list.arco-upload-list-type-text .arco-upload-list-item:first-of-type,.arco-upload-list.arco-upload-list-type-picture .arco-upload-list-item:first-of-type{margin-top:24px}.arco-upload-list-item-done .arco-upload-list-item-file-icon{color:rgb(var(--primary-6))}.arco-upload-list-item{position:relative;display:flex;align-items:center;box-sizing:border-box;margin-top:12px}.arco-upload-list-item-content{display:flex;flex:1;flex-wrap:nowrap;align-items:center;box-sizing:border-box;width:100%;padding:8px 10px 8px 12px;overflow:hidden;font-size:14px;background-color:var(--color-fill-1);border-radius:var(--border-radius-small);transition:background-color .1s cubic-bezier(0,0,1,1)}.arco-upload-list-item-file-icon{margin-right:12px;color:rgb(var(--primary-6));font-size:16px;line-height:16px}.arco-upload-list-item-thumbnail{flex-shrink:0;width:40px;height:40px;margin-right:12px}.arco-upload-list-item-thumbnail img{width:100%;height:100%}.arco-upload-list-item-name{display:flex;flex:1;align-items:center;margin-right:10px;overflow:hidden;color:var(--color-text-1);font-size:14px;line-height:1.4286;white-space:nowrap;text-overflow:ellipsis}.arco-upload-list-item-name-link{overflow:hidden;color:rgb(var(--link-6));text-decoration:none;text-overflow:ellipsis;cursor:pointer}.arco-upload-list-item-name-text{overflow:hidden;text-overflow:ellipsis;cursor:pointer}.arco-upload-list-item .arco-upload-progress{position:relative;margin-left:auto;line-height:12px}.arco-upload-list-item .arco-upload-progress:hover .arco-progress-circle-bg{stroke:rgba(var(--gray-10),.2)}.arco-upload-list-item .arco-upload-progress:hover .arco-progress-circle-bar{stroke:rgb(var(--primary-7))}.arco-upload-list-item-operation{margin-left:12px;color:var(--color-text-2);font-size:12px}.arco-upload-list-item-operation .arco-upload-icon-remove{font-size:inherit}.arco-upload-list-item-error .arco-upload-list-status,.arco-upload-list-item-done .arco-upload-list-status{display:none}.arco-upload-list-type-text .arco-upload-list-item-error .arco-upload-list-item-name-link,.arco-upload-list-type-text .arco-upload-list-item-error .arco-upload-list-item-name{color:rgb(var(--danger-6))}.arco-upload-list.arco-upload-list-type-picture-card{display:flex;flex-wrap:wrap;vertical-align:top}.arco-upload-list.arco-upload-list-type-picture-card .arco-upload-list-status{top:50%;margin-left:0;transform:translateY(-50%)}.arco-upload-list-picture{display:inline-block;margin-top:0;margin-right:8px;margin-bottom:8px;padding-right:0;overflow:hidden;vertical-align:top;transition:all .2s cubic-bezier(.34,.69,.1,1)}.arco-upload-list-picture-status-error .arco-upload-list-picture-mask{opacity:1}.arco-upload-list-picture{position:relative;box-sizing:border-box;width:80px;height:80px;overflow:hidden;line-height:80px;text-align:center;vertical-align:top;border-radius:var(--border-radius-small)}.arco-upload-list-picture img{width:100%;height:100%}.arco-upload-list-picture-mask{position:absolute;top:0;right:0;bottom:0;left:0;color:var(--color-white);font-size:16px;line-height:80px;text-align:center;background:rgba(0,0,0,.5);cursor:pointer;opacity:0;transition:opacity .1s cubic-bezier(0,0,1,1)}.arco-upload-list-picture-operation{display:none;font-size:14px}.arco-upload-list-picture-operation .arco-upload-icon-retry{color:var(--color-white)}.arco-upload-list-picture-error-tip .arco-upload-icon-error{color:var(--color-white);font-size:26px}.arco-upload-list-picture-mask:hover{opacity:1}.arco-upload-list-picture-mask:hover .arco-upload-list-picture-operation{display:flex;justify-content:space-evenly}.arco-upload-list-picture-mask:hover .arco-upload-list-picture-error-tip{display:none}.arco-upload-list-type-picture .arco-upload-list-item-content{padding-top:8px;padding-bottom:8px}.arco-upload-list-type-picture .arco-upload-list-item-error .arco-upload-list-item-content{background-color:var(--color-danger-light-1)}.arco-upload-list-type-picture .arco-upload-list-item-error .arco-upload-list-item-name-link,.arco-upload-list-type-picture .arco-upload-list-item-error .arco-upload-list-item-name{color:rgb(var(--danger-6))}.arco-upload-hide+.arco-upload-list .arco-upload-list-item:first-of-type{margin-top:0}.arco-upload-slide-up-enter{opacity:0}.arco-upload-slide-up-enter-active{opacity:1;transition:opacity .2s cubic-bezier(.34,.69,.1,1)}.arco-upload-slide-up-exit{opacity:1}.arco-upload-slide-up-exit-active{margin:0;overflow:hidden;opacity:0;transition:opacity .1s cubic-bezier(0,0,1,1),height .3s cubic-bezier(.34,.69,.1,1) .1s,margin .3s cubic-bezier(.34,.69,.1,1) .1s}.arco-upload-list-item.arco-upload-slide-inline-enter{opacity:0}.arco-upload-list-item.arco-upload-slide-inline-enter-active{opacity:1;transition:opacity .2s cubic-bezier(0,0,1,1)}.arco-upload-list-item.arco-upload-slide-inline-exit{opacity:1}.arco-upload-list-item.arco-upload-slide-inline-exit-active{margin:0;overflow:hidden;opacity:0;transition:opacity .1s cubic-bezier(0,0,1,1),width .3s cubic-bezier(.34,.69,.1,1) .1s,margin .3s cubic-bezier(.34,.69,.1,1) .1s}.arco-list-medium .arco-list-content-wrapper .arco-list-header{padding:6px 20px;background-color:var(--color-neutral-2)}.item-card[data-v-ea17fb6a]{width:50%;min-width:680px;height:100%;margin:16px}.item-card .list[data-v-ea17fb6a]{margin-left:10px}.item-card .list .list-header[data-v-ea17fb6a]{display:flex}.item-card .list .list-header .list-header-address[data-v-ea17fb6a]{width:200px}.item-card .list .list-header .list-header-file[data-v-ea17fb6a]{flex:1}.item-card .list .list-item[data-v-ea17fb6a]{align-items:center}.item-card .list .list-item .list-item-content[data-v-ea17fb6a]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.item-card .list .list-item .list-item-address[data-v-ea17fb6a]{width:200px}.item-card .list .list-item .list-item-file[data-v-ea17fb6a]{flex:1;width:0;margin:0 10px 0 0}.item-card .bottom[data-v-ea17fb6a]{display:flex;align-items:center;justify-content:center;height:60px;margin-top:30px}.item-card .bottom .flash-btn[data-v-ea17fb6a]{margin-left:80px}\n',document.head.appendChild(A),{setters:[r=>{o=r.d,a=r.b,t=r.C,i=r.aH,s=r.aO,l=r.aN,c=r.aQ,p=r.aK,n=r.G,d=r.aR,u=r.aS,g=r.bx,m=r.ad,f=r.bF,x=r.bB,b=r.bC,v=r.bt,h=r.bG,w=r.u,y=r.aP},r=>{k=r.u,z=r.k,_=r._,C=r.y,j=r.D},r=>{E=r.F,F=r.a},()=>{},()=>{},r=>{$=r.u},()=>{},()=>{},()=>{}],execute:function(){const e={class:"list-header"},A={class:"list-header-address"},B={class:"list-header-file"},I={class:"list-item-content"},R={class:"list-item-address"},D={class:"list-item-file"},P={class:"bottom"},S=o({__name:"Tools",props:{flasher:{},readFile:{type:Function}},setup(r){const o=r,{device:w,term:y}=$(),_=k(),{t:C}=z(),j=a([]),E=a(!1),F=a(""),S=async()=>{try{E.value=!0,F.value=C("workplace.device.message.tip.connecting"),await o.flasher.onEraseFlashBefore(),F.value=C("workplace.device.message.tip.erasing");const r=await o.flasher.onEraseFlash();r&&o.flasher.isNeedConnectDevice&&(await o.flasher.onConnectDevice(),w.value?.deleteInfo(),w.value?.deleteAction(),_.setCurrentModel()),r?d.success(C("workplace.firmware.message.erase.successful")):d.error(C("workplace.firmware.message.erase.failed"))}catch(r){console.error(r),d.error(r?.message),y.writeln(`Error: ${r?.message}`)}finally{F.value="",E.value=!1}},U=async()=>{try{E.value=!0;const r=[];let e=!1;for(let t=0;t<j.value.length;t+=1){const a=j.value[t];if(!a.file)continue;const i=await o.readFile(a.file);let s;/0[xX][0-9a-fA-F]+/.test(a.address)?(s=parseInt(a.address,16),r.push({data:i,address:s})):/^\d*$/.test(a.address)?(s=parseInt(a.address,10),r.push({data:i,address:s})):e=!0}if(e)throw new Error(C("workplace.firmware.message.address"));if(0===r.length)throw new Error(C("workplace.firmware.message.file"));F.value=C("workplace.device.message.tip.connecting"),await o.flasher.writeFlashBefore(),F.value=C("workplace.device.message.tip.flashing");const a=await o.flasher.onWriteFlash(r);a&&o.flasher.isNeedResetDevice&&(F.value=C("workplace.device.message.tip.resetting"),await o.flasher.onResetDevice()),a?d.success(C("workplace.firmware.message.flash.successful")):d.error(C("workplace.firmware.message.flash.failed")),o.flasher.isNeedConnectDevice&&await o.flasher.onConnectDevice(),w.value?.deleteInfo(),w.value?.deleteAction(),_.setCurrentModel()}catch(r){d.error(r?.message),y.writeln(`Error: ${r?.message}`)}finally{F.value="",E.value=!1}},V=r=>{const{onSuccess:e}=r;return e(!0),{}},G=()=>{j.value.push({address:"0x0000",file:null})};return(r,o)=>{const a=u,d=g,w=m,y=f,k=x,z=b,_=v,C=h;return t(),i(C,{loading:E.value,tip:F.value,class:"item-card"},{default:s((()=>[l(_,{class:"general-card",title:r.$t("workplace.device.card.tool")},{extra:s((()=>[l(a,{type:"primary",status:"danger",onClick:S},{default:s((()=>[c(p(r.$t("workplace.firmware.eraseflash")),1)])),_:1})])),default:s((()=>[l(z,{class:"list",data:j.value},{header:s((()=>[n("div",e,[n("div",A,p(r.$t("workplace.firmware.address")),1),n("div",B,p(r.$t("workplace.firmware.file")),1)])])),item:s((({item:e,index:o})=>[l(k,{class:"list-item"},{default:s((()=>[n("div",I,[n("div",R,[l(d,{modelValue:e.address,"onUpdate:modelValue":r=>e.address=r,style:{width:"150px"},placeholder:r.$t("workplace.firmware.address"),"allow-clear":""},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),n("div",D,[l(y,{"custom-request":V,limit:1,onBeforeUpload:r=>((r,e)=>new Promise(((o,a)=>{r&&(e>j.value.length-1?a(new Error("")):(j.value[e].file=r,o(!0)))})))(r,o),onBeforeRemove:()=>(r=>new Promise(((e,o)=>{r>j.value.length-1?o(new Error("")):(j.value[r].file=null,e(!0))})))(o)},{"upload-button":s((()=>[l(a,{type:"primary"},{icon:s((()=>[l(w)])),default:s((()=>[c(p(r.$t("workplace.firmware.choosefile")),1)])),_:1})])),_:2},1032,["onBeforeUpload","onBeforeRemove"])]),n("div",null,[l(a,{type:"primary",onClick:()=>(r=>{j.value.splice(r,1)})(o)},{default:s((()=>[c(p(r.$t("workplace.firmware.remove")),1)])),_:2},1032,["onClick"])])])])),_:2},1024)])),_:1},8,["data"]),n("div",P,[l(a,{type:"primary",onClick:G},{default:s((()=>[c(p(r.$t("workplace.firmware.addfile")),1)])),_:1}),l(a,{class:"flash-btn",type:"primary",onClick:U},{default:s((()=>[c(p(r.$t("workplace.device.btn.flash")),1)])),_:1})])])),_:1},8,["title"])])),_:1},8,["loading","tip"])}}}),U=_(S,[["__scopeId","data-v-ea17fb6a"]]),V=o({__name:"index",setup(r){const e=new E,o=r=>new Promise(((e,o)=>{const a=new FileReader;a.onload=r=>{const o=r?.target?.result;e(o)},a.readAsBinaryString(r)}));return(r,a)=>(t(),i(U,{flasher:w(e),"read-file":o},null,8,["flasher"]))}}),G=o({__name:"index",setup(r){const e=new F,o=r=>new Promise(((e,o)=>{const a=new FileReader;a.onloadend=()=>{const r=a.result,o=new Uint8Array(r);e(o)},a.onerror=o,a.readAsArrayBuffer(r)}));return(r,a)=>(t(),i(U,{flasher:w(e),"read-file":o},null,8,["flasher"]))}});r("default",o({__name:"index",setup(r){const e=k();return(r,o)=>w(e).deviceType.id===w(C)[w(j).XiaoEsp32s3].id?(t(),i(V,{key:"XIAO ESP32S3"})):w(e).deviceType.id===w(C)[w(j).GroveAIWE2].id?(t(),i(G,{key:"GROVE AI WE2"})):y("",!0)}}))}}}));
